<nav
  class="navbar-container"
  role="navigation"
  aria-label="Main navigation"
>
  <div class="left-section">
    <button
      type="button"
      class="icon-button home-button"
      aria-label="Ir a inicio"
      (click)="botonhome()"
    >
      <img
        #homeIcon
        src="/assets/home_line.png"
        alt="Icono de inicio"
        class="icon-image"
        (mouseenter)="homeIcon.src = '/assets/home_solid.png'"
        (mouseleave)="homeIcon.src = '/assets/home_line.png'"
      />
    </button>
  </div>
  <div class="logo-container">
    <img src="/assets/logo_universidad.png" alt="Logo UCB" class="logo-image" />
  </div>
  <div class="right-section">
      <button
      type="button"
      class="icon-button notification-button"
      (click)="botonnotificaciones()"
      >
      <img
        #notificationIcon
        src="/assets/notificaciones_line.png"
        class="icon-image"
        (mouseenter)="notificationIcon.src = '/assets/notificaciones_solid.png'"
        (mouseleave)="notificationIcon.src = '/assets/notificaciones_line.png'"
      />
      @if(notificaciones) {
            <span class="pendiente">!</span>
      }
    </button>

    <button
      type="button"
      class="icon-button favorites-button"
      (click)="toggleFavoritos()">
      â˜…
      <span class="favorites-count">{{ cantidadFavoritos }}</span>
    </button>

    <button
      type="button"
      class="icon-button cart-button"
      aria-label="Mostrar carrito"
      (click)="mostrarcarrito()"
    >
      <img
        #cartIcon
        src="/assets/shopping_card_line.png"
        alt="Icono de carrito"
        class="icon-image"
        (mouseenter)="cartIcon.src = '/assets/shopping_card_solid.png'"
        (mouseleave)="cartIcon.src = '/assets/shopping_card_line.png'"
      />
      <span class="cart-count">{{ totalproductos() }}</span>
    </button>
    <div class="user-menu">
       <button
        type="button"
        class="icon-button user-button"
        aria-haspopup="true"
        (click)="toggleUserMenu()"
      >
        <img
          #userIcon
          src="/assets/profile_line.png"
          alt="Icono de usuario"
          class="icon-image"
          (mouseenter)="userIcon.src = '/assets/profile_solid.png'"
          (mouseleave)="userIcon.src = '/assets/profile_line.png'"
        />
      </button>
    </div>
  </div>
</nav>

<div class="navbar-spacer"></div>

@if(showUserMenu()) {
  <app-usuario-previo
    [showUserMenu]="showUserMenu"
  ></app-usuario-previo>
}

@if(showFavoritos()) {
  <app-favoritos-menu
    [showFavoritos]="showFavoritos"
  ></app-favoritos-menu>
}

